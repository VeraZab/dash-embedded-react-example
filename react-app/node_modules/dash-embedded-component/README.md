## Dash Embedded Component

Part of Embedded Dash, the framework for including Dash apps in larger applications

## Usage - front end

`dash-embedded-component` exposes two items at its top level:
- `DashApp`: the React component itself - for including a Dash app in a React application. Provide the app URL in the `config` prop:
```js
<DashApp config={{url_base_pathname: myAppURL}}/>
```
- `renderDash`: A function, for use in vanilla JS or any framework other than React, which will instantiate your Dash app in a given DOM element. Provide the same `config` and a mount point - either a DOM element or a string with the ID of the mount point:
```js
renderDash({url_base_pathname: myAppURL}, 'myEmptyDiv');
```

#### Loading the js bundle
The bundle is a UMD build, meaning that the following all work depending on your build system. It requires `react` and `react-dom` to be available in the environment already, they are not included in the bundle.
```js
// via es6 import
import { DashApp, renderDash } from './dash-embedded-component-x.y.z.min';

// via require
var DashApp = require('./dash-embedded-component-x.y.z.min').DashApp;
var renderDash = require('./dash-embedded-component-x.y.z.min').renderDash;

// via script tag - make sure react and react-dom are loaded first
<script crossorigin src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"></script>
<script src="dash-embedded-component-x.y.z.min.js"></script>
<script>
  var DashApp = window.dash_embedded_component.DashApp;
  var renderDash = window.dash_embedded_component.renderDash;
</script>
```

## Usage - back end

In your Dash app, you'll need the `dash_embedded` package, then add this to your app:
```py
from dash_embedded import Embeddable
app = Dash(..., plugins=[Embeddable(origins=['*'])])
```
Then deploy it as normal. The `Embeddable` plugin adds the functionality necessary to access your app from inside another page, while still letting you access it standalone. It also allows you to easily enable CORS, in case your app is not hosted on the same domain as the main page. CORS is only enabled if you pass `origins` or some other `flask_cors` kwargs to the `Embeddable` constructor. If you just use `plugins=[Embeddable()]`, your app will only accept requests from the same domain.

**Please Note:** `origins=['*']` opens your app to requests from any domain, so presents a security risk if your app is accessible from the public internet. You should specify the actual domains of the applications that are allowed to access this app. See the `flask_cors` package for more information.

## Creating build tarball

Run the following commands for a clean build

```
rm -rf node_modules
rm -rf dist
npm ci
npm i
npm run build
npm pack
```

For release to DED, make a PR with files in `dist/standalone` files and generated tarball copied to https://github.com/plotly/dash-enterprise-docs/tree/master/packages/dash-embedded-component `/<version>`

## Updating dash-renderer

Run the following command:

```
npm install dash-renderer@<version> --save-exact
```
